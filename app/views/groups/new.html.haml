%h4 Create a new group

= form_for @group do |f|
  - if @group.errors.any?
    #error_explanation
      %h2 #{pluralize(@group.errors.count, "error")} prohibited you from creating this group:
      %ul
        - @group.errors.full_messages.each do |msg|
          %li= msg
  %p
    = f.label :alias
    %br
    = f.text_field :alias
  %p
    = f.label :name
    %br
    = f.text_field :name
  %p
    = f.label :description
    %br
    = f.text_area :description, :rows => 5
  %p
    = f.label :hidden, "Hidden (won't be visible in the public groups listing)"
    = f.check_box :hidden
  %p
    = f.label :requires_approval_to_join, "Require approval to join?"
    = f.check_box :requires_approval_to_join
  %p
    = f.label:kind, "Select the group kind:"
    %br
    = f.radio_button :kind, :chatroom
    Chatroom: all sent messages are received by all members and admins in the group, as well as appear on the website.
    %br
    = f.radio_button :kind, :reports_and_alerts
    Reports and Alerts: messages sent by admins are received by everyone; messages sent by non-admins are only received by admins. All messages appear on the website.
    %br
    = f.radio_button :kind, :reports
    Reports: messages sent by admins are only shown on the website; messages sent by non-admins are received by admins and shown on the website.
    %br
    = f.radio_button :kind, :alerts
    Alerts: messages sent by admins are received by everyone and shown on the website; messages sent by non-admins are only shown on the website.
    %br
    = f.radio_button :kind, :messaging
    Messaging: only direct messages are sent to their destintation; all messages are shown on the website.
  %p= f.label :location
  = render 'shared/location', :f => f, :lat => @group.lat || @user.lat, :lon => @group.lon || @user.lon, :width => 400, :height => 300
  = submit_tag 'Create group'

